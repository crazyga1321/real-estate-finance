<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Агент и клиент — одна сторона сделки</title>

  <style>
    :root{
      --bg:#0f0f12;
      --bg2:#111;
      --text:#fff;
      --muted:rgba(255,255,255,.85);
      --muted2:rgba(255,255,255,.72);
      --border:rgba(255,255,255,.18);
      --accent:#c62828;
      --accent2:#e53935;
      --shadow:0 30px 80px rgba(0,0,0,.6);
      --radius:6px;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    body{
      background:var(--bg);
      color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      overflow-x:hidden;
    }

    .hero{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:80px 40px;
    }

    .hero-wrapper{
      display:flex;
      align-items:center;
      max-width:1200px;
      width:100%;
      gap:80px;
    }

    .hero-image-wrap{
      will-change:transform;
      transform:translateY(var(--parallax,0px));
      transition:transform 220ms ease;
    }

    .hero-image img{
      width:480px;
      max-width:100%;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      display:block;
      will-change:opacity,transform,filter;
    }

    .hero-content{max-width:540px}

    h1{
      font-size:48px;
      line-height:1.15;
      margin-bottom:22px;
      letter-spacing:-0.5px;
    }

    p{
      font-size:18px;
      line-height:1.6;
      color:var(--muted);
      margin-bottom:34px;
    }

    .buttons{display:flex;gap:16px;flex-wrap:wrap}

    .btn{
      padding:14px 28px;
      border-radius:4px;
      text-decoration:none;
      font-weight:600;
      transition:transform .2s ease, background .2s ease;
      display:inline-block;
    }

    .btn-primary{background:var(--accent);color:#fff}
    .btn-primary:hover{background:var(--accent2);transform:translateY(-1px)}
    .btn-secondary{border:1px solid var(--border);color:#fff;opacity:.9}
    .btn-secondary:hover{border-color:rgba(255,255,255,.35);transform:translateY(-1px)}

    .about{
      padding:110px 40px;
      background:var(--bg2);
    }

    .about-inner{
      max-width:920px;
      margin:0 auto;
      text-align:center;
    }

    .about h2{
      font-size:36px;
      margin-bottom:20px;
    }

    .about p{color:var(--muted2)}

    /* TEXT — быстрее */
    .reveal{
      opacity:0;
      transform:translateY(14px);
      filter:blur(4px);
      transition:
        opacity 650ms cubic-bezier(.2,.8,.2,1),
        transform 650ms cubic-bezier(.2,.8,.2,1),
        filter 650ms cubic-bezier(.2,.8,.2,1);
    }
    .reveal.in{opacity:1;transform:none;filter:none}

    /* PHOTO — ОЧЕНЬ МЕДЛЕННО (3 секунды) */
    .reveal-photo{
      opacity:0;
      transform:translateY(22px) scale(.97);
      filter:blur(14px);
      transition:
        opacity 3000ms cubic-bezier(.2,.8,.2,1),
        transform 3000ms cubic-bezier(.2,.8,.2,1),
        filter 3000ms cubic-bezier(.2,.8,.2,1);
    }
    .reveal-photo.in{opacity:1;transform:none;filter:none}

    .d1{transition-delay:120ms}
    .d2{transition-delay:220ms}
    .d3{transition-delay:340ms}
    .d4{transition-delay:460ms}

    @media(max-width:900px){
      .hero{padding:60px 20px}
      .hero-wrapper{flex-direction:column;text-align:center;gap:46px}
      h1{font-size:36px}
      .about{padding:80px 20px}
    }
  </style>
</head>

<body>

<section class="hero">
  <div class="hero-wrapper">

    <div class="hero-image-wrap">
      <img id="heroPhoto" class="reveal-photo d1" src="hero.jpg" alt="Агент и клиент — одна сторона сделки">
    </div>

    <div class="hero-content">
      <h1 class="reveal d2">Агент и клиент — одна сторона сделки</h1>
      <p class="reveal d3">
        Недвижимость без конфликта интересов.<br>
        Я работаю так, как будто совершаю сделку для себя.
      </p>
      <div class="buttons reveal d4">
        <a href="#" class="btn btn-primary">Обсудить задачу</a>
        <a href="#about" class="btn btn-secondary">Мой подход</a>
      </div>
    </div>

  </div>
</section>

<section class="about" id="about">
  <div class="about-inner">
    <h2 class="reveal">Партнёрство, а не давление</h2>
    <p class="reveal">
      Я помогаю принимать решения и защищаю интересы клиента
      на каждом этапе сделки.
    </p>
  </div>
</section>

<script>
/* Текст — как обычно */
(function(){
  const els=document.querySelectorAll('.reveal');
  const io=new IntersectionObserver(es=>{
    es.forEach(e=>{
      if(e.isIntersecting){
        e.target.classList.add('in');
        io.unobserve(e.target);
      }
    });
  },{threshold:.15});
  els.forEach(el=>io.observe(el));
})();

/* Фото — ТОЛЬКО после полной загрузки */
(function(){
  const img=document.getElementById('heroPhoto');
  if(!img) return;

  function start(){
    requestAnimationFrame(()=>{
      setTimeout(()=>img.classList.add('in'),180);
    });
  }

  if(img.complete) start();
  else img.addEventListener('load',start,{once:true});
})();

/* Очень лёгкий параллакс */
(function(){
  const w=document.querySelector('.hero-image-wrap');
  if(!w) return;
  const canHover=window.matchMedia('(hover:hover)').matches;
  if(!canHover) return;

  let ticking=false;
  function onScroll(){
    if(ticking) return;
    ticking=true;
    requestAnimationFrame(()=>{
      const r=w.getBoundingClientRect();
      const vh=innerHeight||800;
      const t=Math.min(1,Math.max(0,(r.top+r.height*.5)/vh));
      w.style.setProperty('--parallax',((.5-t)*20).toFixed(2)+'px');
      ticking=false;
    });
  }
  addEventListener('scroll',onScroll,{passive:true});
  addEventListener('resize',onScroll);
  onScroll();
})();
</script>

</body>
</html>
